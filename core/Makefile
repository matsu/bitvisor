# config macros
CONSTANTS-$(CONFIG_SPINLOCK_DEBUG) += -DSPINLOCK_DEBUG
CONSTANTS-$(CONFIG_TTY_SERIAL) += -DTTY_SERIAL
CONSTANTS-$(CONFIG_DBGSH) += -DDBGSH
CONSTANTS-$(CONFIG_STATUS) += -DSTATUS
CONSTANTS-$(CONFIG_LOG_TO_GUEST) += -DLOG_TO_GUEST
CONSTANTS-$(CONFIG_CRYPTO) += -DCRYPTO
CONSTANTS-$(CONFIG_VPN) += -DVPN
CONSTANTS-$(CONFIG_ACPI_DSDT) += -DACPI_DSDT
CONSTANTS-$(CONFIG_DISABLE_SLEEP) += -DDISABLE_SLEEP
CONSTANTS-$(CONFIG_ENABLE_ASSERT) += -DENABLE_ASSERT
CONSTANTS-$(CONFIG_CARDSTATUS) += -DCARDSTATUS
CONSTANTS-$(CONFIG_IDMAN) += -DIDMAN
CONSTANTS-$(CONFIG_VPN_VE) += -DVPN_VE
CONSTANTS-$(CONFIG_ACPI_TIME_SOURCE) += -DACPI_TIME_SOURCE
CONSTANTS-$(CONFIG_TTY_VGA) += -DTTY_VGA
CONSTANTS-$(CONFIG_THREAD_1CPU) += -DTHREAD_1CPU
CONSTANTS-$(CONFIG_ACPI_IGNORE_ERROR) += -DACPI_IGNORE_ERROR

bits-0 = 32
bits-1 = 64
CFLAGS-32 = -Iedk2/MdePkg/Include/Ia32
CFLAGS-64 = -Iedk2/MdePkg/Include/X64

CFLAGS += -fshort-wchar
CFLAGS += -I$(DIR)/include
CFLAGS += -Ivpn/lib
CFLAGS += -Iedk2/MdePkg/Include/ $(CFLAGS-$(bits-$(CONFIG_64)))

subdirs-1 += x86

objs-1 += acpi.o
objs-1 += acpi_dsdt.o
objs-1 += assert.o
objs-1 += calluefi.o
objs-1 += config.o
objs-1 += debug.o
objs-1 += exint_pass.o
objs-1 += iccard.o
objs-1 += initfunc.o
objs-1 += mm.o
objs-1 += msg.o
objs-1 += panic.o
objs-1 += phys.o
objs-1 += printf.o
objs-1 += process.o
objs-1 += putchar.o
objs-1 += qsort.o
objs-1 += random.o
objs-1 += reboot.o
objs-1 += strtol.o
objs-1 += sym.o
objs-1 += thread.o
objs-1 += time.o
objs-1 += timer.o
objs-1 += tty.o
objs-1 += uefi.o
objs-1 += uefi_param_ext.o
objs-1 += uefiutil.o
objs-1 += vga.o
objs-1 += vmmcall.o
objs-1 += vmmcall_boot.o
objs-1 += vmmcall_dbgsh.o
objs-1 += vmmcall_iccard.o
objs-1 += vmmcall_log.o
objs-1 += vmmcall_status.o
objs-1 += vpn_ve.o
objs-1 += vramwrite.o
