# config macros
CONSTANTS-$(CONFIG_TTY_SERIAL) += -DTTY_SERIAL
CONSTANTS-$(CONFIG_DBGSH) += -DDBGSH
CONSTANTS-$(CONFIG_STATUS) += -DSTATUS
CONSTANTS-$(CONFIG_LOG_TO_GUEST) += -DLOG_TO_GUEST
CONSTANTS-$(CONFIG_CRYPTO) += -DCRYPTO
CONSTANTS-$(CONFIG_VPN) += -DVPN
CONSTANTS-$(CONFIG_ACPI_DSDT) += -DACPI_DSDT
CONSTANTS-$(CONFIG_DISABLE_SLEEP) += -DDISABLE_SLEEP
CONSTANTS-$(CONFIG_ENABLE_ASSERT) += -DENABLE_ASSERT
CONSTANTS-$(CONFIG_CARDSTATUS) += -DCARDSTATUS
CONSTANTS-$(CONFIG_IDMAN) += -DIDMAN
CONSTANTS-$(CONFIG_VPN_VE) += -DVPN_VE
CONSTANTS-$(CONFIG_ACPI_TIME_SOURCE) += -DACPI_TIME_SOURCE
CONSTANTS-$(CONFIG_TTY_VGA) += -DTTY_VGA
CONSTANTS-$(CONFIG_THREAD_1CPU) += -DTHREAD_1CPU
CONSTANTS-$(CONFIG_ACPI_IGNORE_ERROR) += -DACPI_IGNORE_ERROR

CFLAGS += -I$(DIR)/include
CFLAGS += -Ivpn/lib
CFLAGS += $(CFLAGS_EDK2_INC)

subdirs-y += $(ARCH)

objs-y += acpi.o
objs-y += acpi_dsdt.o
objs-y += assert.o
objs-y += bplus_tree.o
objs-y += calluefi.o
objs-y += config.o
objs-y += debug.o
objs-y += dres.o
objs-y += exint_pass.o
objs-y += iccard.o
objs-y += initfunc.o
objs-y += keyboard.o
objs-y += mm.o
objs-y += msg.o
objs-y += panic.o
objs-y += phys.o
objs-y += printf.o
objs-y += process.o
objs-y += putchar.o
objs-y += qsort.o
objs-y += random.o
objs-y += reboot.o
objs-y += string.o
objs-y += strtol.o
objs-y += sym.o
objs-y += thread.o
objs-y += time.o
objs-y += timer.o
objs-y += tty.o
objs-y += uefi.o
objs-y += uefi_param_ext.o
objs-y += uefiutil.o
objs-y += vga.o
objs-y += vmmcall.o
objs-y += vmmcall_boot.o
objs-y += vmmcall_dbgsh.o
objs-y += vmmcall_iccard.o
objs-y += vmmcall_log.o
objs-y += vmmcall_status.o
objs-y += vramwrite.o
